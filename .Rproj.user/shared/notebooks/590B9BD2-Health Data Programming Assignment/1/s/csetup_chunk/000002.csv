"0","library(tidyverse)"
"0","library(lubridate)"
"0","library(magrittr)"
"0","library(dplyr)"
"0","library(ggplot2)"
"0","library(janitor)"
"0","library(kableExtra)"
"0","library(scales)"
"0","library(viridis)"
"0",""
"0","#Calling necessary packages for RMarkdown."
"0",""
"0","#getwd() if necessary"
"0","#setwd() if necessary"
"0",""
"0","orig_hb = read.csv('hb_lookup.csv')"
"0","orig_uiadmissions = read.csv('ui_admissions_2022.csv')"
"0","orig_uideaths = read.csv('ui_deaths_2022.csv')"
"0",""
"0","#CSV files read into RMarkdown and assigned to object names for ease of use."
"0",""
"0","glimpse(orig_hb) "
"1","Rows: 18"
"1",""
"1","
"
"1","Columns: 5"
"1",""
"1","
"
"1","$ HB             [3m[38;5;246m<chr>[39m[23m ""S08000015"", ""S08000016"", ""S08000017"", ""S08000018"", ""S08000019"", ""S08000020"", ""S080000â€¦
$ HBName         [3m[38;5;246m<chr>[39m[23m ""NHS Ayrshire and Arran"", ""NHS Borders"", ""NHS Dumfries and Galloway"", ""NHS Fife"", ""NHSâ€¦
$ HBDateEnacted  [3m[38;5;246m<int>[39m[23m 20140401, 20140401, 20140401, 20140401, 20140401, 20140401, 20140401, 20140401, 201404â€¦
$ HBDateArchived [3m[38;5;246m<int>[39m[23m NA, NA, NA, 20180201, NA, NA, 20190331, NA, 20190331, NA, NA, NA, 20180201, NA, NA, NAâ€¦
$ Country        [3m[38;5;246m<chr>[39m[23m ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S920000â€¦"
"1",""
"1","
"
"0","#Rows: 18 Columns: 5, HB numbers + name(location in Scotland). Couple of ""NA""s in column 4, consistent result in 3"
"0",""
"0","glimpse(orig_uiadmissions) "
"1","Rows: 391,104"
"1",""
"1","
"
"1","Columns: 14"
"1",""
"1","
"
"1","$ FinancialYear      [3m[38;5;246m<chr>[39m[23m ""2011/12"", ""2011/12"", ""2011/12"", ""2011/12"", ""2011/12"", ""2011/12"", ""2011/12"", ""2011â€¦
$ HBR                [3m[38;5;246m<chr>[39m[23m ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S92â€¦
$ HBRQF              [3m[38;5;246m<chr>[39m[23m ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""dâ€¦
$ CA                 [3m[38;5;246m<chr>[39m[23m ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S92â€¦
$ CAQF               [3m[38;5;246m<chr>[39m[23m ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""dâ€¦
$ AgeGroup           [3m[38;5;246m<chr>[39m[23m ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All""â€¦
$ AgeGroupQF         [3m[38;5;246m<chr>[39m[23m ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""dâ€¦
$ Sex                [3m[38;5;246m<chr>[39m[23m ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All""â€¦
$ SexQF              [3m[38;5;246m<chr>[39m[23m ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""dâ€¦
$ InjuryLocation     [3m[38;5;246m<chr>[39m[23m ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""Home"", ""Home"", ""Hoâ€¦
$ InjuryLocationQF   [3m[38;5;246m<chr>[39m[23m ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", """", """", """", """", """", """", """", """", """", ""â€¦
$ InjuryType         [3m[38;5;246m<chr>[39m[23m ""All Diagnoses"", ""RTA"", ""Poisoning"", ""Falls"", ""Struck by, against"", ""Crushing"", ""Sâ€¦
$ InjuryTypeQF       [3m[38;5;246m<chr>[39m[23m ""d"", """", """", """", """", """", """", """", """", ""d"", """", """", """", """", """", """", """", """", ""d"", """",â€¦
$ NumberOfAdmissions [3m[38;5;246m<int>[39m[23m 54766, 3058, 1989, 32694, 2738, 1061, 481, 5504, 7371, 16805, 0, 941, 12704, 643, â€¦"
"1",""
"1","
"
"0","#Rows: 391,104 Columns: 14, Breakdown of HB, Year, Age, Sex, Injurylocation, Injurytype, Number of Admissions | Data is raw and aggregated. Columns with repeated results (c(3,5,7,9,11,13)), all stating ""QF"". Summarised values in columns (c(6,8,10,12)), stating ""All""."
"0",""
"0","glimpse(orig_uideaths)"
"1","Rows: 182,502"
"1",""
"1","
"
"1","Columns: 14"
"1",""
"1","
"
"1","$ Year             [3m[38;5;246m<int>[39m[23m 2011, 2011, 2011, 2011, 2011, 2011, 2011, 2011, 2011, 2011, 2011, 2011, 2011, 2011, â€¦
$ HBR              [3m[38;5;246m<chr>[39m[23m ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S9200â€¦
$ HBRQF            [3m[38;5;246m<chr>[39m[23m ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"",â€¦
$ CA               [3m[38;5;246m<chr>[39m[23m ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S92000003"", ""S9200â€¦
$ CAQF             [3m[38;5;246m<chr>[39m[23m ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"",â€¦
$ AgeGroup         [3m[38;5;246m<chr>[39m[23m ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", â€¦
$ AgeGroupQF       [3m[38;5;246m<chr>[39m[23m ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"",â€¦
$ Sex              [3m[38;5;246m<chr>[39m[23m ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", â€¦
$ SexQF            [3m[38;5;246m<chr>[39m[23m ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"",â€¦
$ InjuryLocation   [3m[38;5;246m<chr>[39m[23m ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""All"", ""Home"", ""Home"", ""Homeâ€¦
$ InjuryLocationQF [3m[38;5;246m<chr>[39m[23m ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", ""d"", """", """", """", """", """", """", """", """", """", """",â€¦
$ InjuryType       [3m[38;5;246m<chr>[39m[23m ""All"", ""Land transport accidents"", ""Poisoning"", ""Falls"", ""Struck by,against"", ""Crushâ€¦
$ InjuryTypeQF     [3m[38;5;246m<chr>[39m[23m ""d"", """", """", """", """", """", """", """", """", ""d"", """", """", """", """", """", """", """", """", ""d"", """", ""â€¦
$ NumberofDeaths   [3m[38;5;246m<int>[39m[23m 1657, 204, 461, 723, 6, 1, 2, 72, 188, 569, 0, 366, 108, 0, 0, 2, 16, 77, 231, 204, â€¦"
"1",""
"1","
"
"0","#Rows: 182,502 Columns: 14, Breakdown of HB, Year, Age, Sex, Injurylocation, Injurytype, Number of Deaths | Data is raw and aggregated"
"0",""
"0","summary(orig_hb)"
"1",""
"1","      HB           "
"1","    HBName         "
"1"," HBDateEnacted     "
"1"," HBDateArchived    "
"1","   Country         "
"1","
"
"1"," Length:18         "
"1"," Length:18         "
"1"," Min.   :20140401  "
"1"," Min.   :20180201  "
"1"," Length:18         "
"1","
"
"1"," Class :character  "
"1"," Class :character  "
"1"," 1st Qu.:20140401  "
"1"," 1st Qu.:20180201  "
"1"," Class :character  "
"1","
"
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Median :20140401  "
"1"," Median :20185266  "
"1"," Mode  :character  "
"1","
"
"1","                   "
"1","                   "
"1"," Mean   :20150379  "
"1"," Mean   :20185266  "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1"," 3rd Qu.:20140401  "
"1"," 3rd Qu.:20190331  "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1"," Max.   :20190401  "
"1"," Max.   :20190331  "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1"," NA's   :14        "
"1","                   "
"1","
"
"0","#HB and HBName will be required for joining datasets after cleaning."
"0",""
"0","summary(orig_uiadmissions)"
"1",""
"1"," FinancialYear     "
"1","     HBR           "
"1","    HBRQF          "
"1","      CA           "
"1","     CAQF          "
"1","
"
"1"," Length:391104     "
"1"," Length:391104     "
"1"," Length:391104     "
"1"," Length:391104     "
"1"," Length:391104     "
"1","
"
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1","
"
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1",""
"1","   AgeGroup        "
"1","  AgeGroupQF       "
"1","     Sex           "
"1","    SexQF          "
"1"," InjuryLocation    "
"1","
"
"1"," Length:391104     "
"1"," Length:391104     "
"1"," Length:391104     "
"1"," Length:391104     "
"1"," Length:391104     "
"1","
"
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1","
"
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1",""
"1"," InjuryLocationQF  "
"1","  InjuryType       "
"1"," InjuryTypeQF      "
"1"," NumberOfAdmissions"
"1","
"
"1"," Length:391104     "
"1"," Length:391104     "
"1"," Length:391104     "
"1"," Min.   :    0.00  "
"1","
"
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1"," 1st Qu.:    0.00  "
"1","
"
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Median :    1.00  "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1"," Mean   :   46.52  "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1"," 3rd Qu.:   10.00  "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1"," Max.   :61279.00  "
"1","
"
"0","#NumberOFAdmissions Max. 61279"
"0","#Column 1, Financial Year is a character string column not a integer: requires mutation. "
"0","#""HBR"" column same as orig_hb co dataset column ""HB"""
"0",""
"0",""
"0","summary(orig_uideaths)"
"1",""
"1","      Year     "
"1","     HBR           "
"1","    HBRQF          "
"1","      CA           "
"1","     CAQF          "
"1","   AgeGroup        "
"1","
"
"1"," Min.   :2011  "
"1"," Length:182502     "
"1"," Length:182502     "
"1"," Length:182502     "
"1"," Length:182502     "
"1"," Length:182502     "
"1","
"
"1"," 1st Qu.:2013  "
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1","
"
"1"," Median :2016  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1","
"
"1"," Mean   :2016  "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1"," 3rd Qu.:2018  "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1"," Max.   :2020  "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1",""
"1","  AgeGroupQF       "
"1","     Sex           "
"1","    SexQF          "
"1"," InjuryLocation    "
"1"," InjuryLocationQF  "
"1","
"
"1"," Length:182502     "
"1"," Length:182502     "
"1"," Length:182502     "
"1"," Length:182502     "
"1"," Length:182502     "
"1","
"
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1","
"
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1",""
"1","  InjuryType       "
"1"," InjuryTypeQF      "
"1"," NumberofDeaths    "
"1","
"
"1"," Length:182502     "
"1"," Length:182502     "
"1"," Min.   :   0.000  "
"1","
"
"1"," Class :character  "
"1"," Class :character  "
"1"," 1st Qu.:   0.000  "
"1","
"
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Median :   0.000  "
"1","
"
"1","                   "
"1","                   "
"1"," Mean   :   3.709  "
"1","
"
"1","                   "
"1","                   "
"1"," 3rd Qu.:   1.000  "
"1","
"
"1","                   "
"1","                   "
"1"," Max.   :2759.000  "
"1","
"
"0","#NumberofDeaths Max. 2759"
"0",""
"0","#Initial observations of datasets show a few discrepancies"
"0",""
